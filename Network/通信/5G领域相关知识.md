## 电信网络

电信网络是指用于 语音、短信、移动通信和控制信令 的网络系统，主要由运营商（如中国移动、中国联通等）建设和维护。

它包括：
- 无线接入网（如基站 eNodeB/gNodeB）
- 核心网（如 MME、SGW、PGW、AMF、UPF）
- 传输网（用于连接各个网元）
- 信令协议（如 SCTP、S1AP、M2AP、NGAP）

其特点为：
- 面向连接，强调 可靠性、实时性和服务质量（QoS）
- 使用专用协议栈（如 LTE、5G NR）
- 支持 移动性管理（如切换、位置更新）
- 强调 安全性和鉴权机制

而基于IP协议的互联网则被成为IP网络，主要用于数据传输和互联网服务，其不具备移动设备的移动性管理和实时性要求。而电信网络为了满足用户上网的需求，通常需要接入到互联网。

整体流程可以简化为：
移动设备（UE） → 无线接入网（eNodeB/gNodeB） → 核心网（MME/AMF等）→ 互联网

### 电信信令

电信信令是指在电信网络中用于建立、管理和终止通信连接的控制信息。它包括各种协议和标准，用于传输呼叫设置、路由选择、用户身份验证等信息。 

与其对应的是承载信道（Bearer Channel），用于传输实际的用户数据，如语音、视频和文本消息。


## 5G核心网架构
5G核心网（5GC）架构采用服务化架构（SBA），由多个独立的网络功能（NFs）组成，每个网络功能都提供特定的服务。主要网络功能包括：
- 接入和移动性管理功能（AMF）：负责用户设备的接入和移动性管理。
- 会话管理功能（SMF）：负责会话的建立、修改和释放。
- 用户平面功能（UPF）：负责用户数据的转发和路由。
- 认证服务器功能（AUSF）：负责用户身份的认证。
- 统一数据管理（UDM）：负责用户订阅数据的管理。
这些网络功能通过标准化的接口进行通信，如N2接口（AMF与gNodeB之间）和N3接口（UPF与gNodeB之间），实现灵活的网络部署和扩展能力。

在 5G核心网（5GC） 中，整个架构被明确地分为两个主要部分：控制面（Control Plane）和用户平面（User Plane）。

* 控制面（Control Plane） 负责管理和控制网络功能，包括用户设备的接入、移动性管理、会话管理和策略控制等。主要的控制面网络功能包括：
  - 接入和移动性管理功能（AMF）
  - 会话管理功能（SMF）
  - 认证服务器功能（AUSF）
  - 统一数据管理（UDM）
  - 策略控制功能（PCF）
* 用户平面（User Plane） 负责实际的数据传输和路由。主要的用户平面网络功能包括：
    - 用户平面功能（UPF）
    - 数据网络（DN），如互联网或专用企业网络

### UPF的作用
用户平面功能（UPF）是5G核心网中的关键组件，负责处理用户数据的转发和路由。UPF的主要作用包括：
1. 数据转发：UPF负责将用户数据从接入网络（如gNodeB）转发到目的地（如互联网或其他网络功能）。
2. 流量管理：UPF可以根据策略对用户数据进行流量管理，如流量整形、优先级设置等。
3. QoS保障：UPF支持服务质量（QoS）机制，确保不同类型的流量（如语音、视频）得到适当的处理。
4. 数据计费：UPF可以收集用户数据使用情况，支持计费功能。
5. 支持边缘计算：UPF可以部署在网络边缘，支持低延应用和服务。

### N2接口
N2接口是5G核心网（5GC）中的一个关键接口，连接了接入和移动性管理功能（AMF）与下一代基站（gNodeB）。它主要用于传输控制信令，支持用户设备的接入、移动性管理和会话管理等功能。

### N3接口
N3接口是5G核心网（5GC）中的一个关键接口，连接了用户平面功能（UPF）与下一代基站（gNodeB）。它主要用于传输用户数据流量，支持高效的数据传输和路由功能。

### N6接口
N6接口是5G核心网（5GC）中的一个关键接口，连接了用户平面功能（UPF）与数据网络（DN），如互联网或专用企业网络。它主要用于传输用户数据流量，实现用户设备与外部网络之间的通信。